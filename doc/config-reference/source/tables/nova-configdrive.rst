..
    Warning: Do not edit this file. It is automatically generated from the
    software project's code and your changes will be overwritten.

    The tool to generate this file lives in openstack-doc-tools repository.

    Please make any changes needed in the code, then run the
    autogenerate-config-doc tool from the openstack-doc-tools repository, or
    ask for help on the documentation mailing list, IRC channel or meeting.

.. _nova-configdrive:

.. list-table:: Description of config drive configuration options
   :header-rows: 1
   :class: config-ref-table

   * - Configuration option = Default value
     - Description
   * - **[DEFAULT]**
     -
   * - ``config_drive_format`` = ``iso9660``
     - (String) Configuration drive format

       Configuration drive format that will contain metadata attached to the instance when it boots.

       Possible values:

       * iso9660: A file system image standard that is widely supported across operating systems. NOTE: Mind the libvirt bug (https://bugs.launchpad.net/nova/+bug/1246201) - If your hypervisor driver is libvirt, and you want live migrate to work without shared storage, then use VFAT.

       * vfat: For legacy reasons, you can configure the configuration drive to use VFAT format instead of ISO 9660.

       Related options:

       * This option is meaningful when one of the following alternatives occur: 1. force_config_drive option set to 'true' 2. the REST API call to create the instance contains an enable flag for config drive option 3. the image used to create the instance requires a config drive, this is defined by img_config_drive property for that image.

       * A compute node running Hyper-V hypervisor can be configured to attach configuration drive as a CD drive. To attach the configuration drive as a CD drive, set config_drive_cdrom option at hyperv section, to true.
   * - ``config_drive_skip_versions`` = ``1.0 2007-01-19 2007-03-01 2007-08-29 2007-10-10 2007-12-15 2008-02-01 2008-09-01``
     - (String) When gathering the existing metadata for a config drive, the EC2-style metadata is returned for all versions that don't appear in this option. As of the Liberty release, the available versions are:

       * 1.0

       * 2007-01-19

       * 2007-03-01

       * 2007-08-29

       * 2007-10-10

       * 2007-12-15

       * 2008-02-01

       * 2008-09-01

       * 2009-04-04

       The option is in the format of a single string, with each version separated by a space.

       Possible values:

       * Any string that represents zero or more versions, separated by spaces.
   * - ``force_config_drive`` = ``False``
     - (Boolean) Force injection to take place on a config drive

       When this option is set to true configuration drive functionality will be forced enabled by default, otherwise user can still enable configuration drives via the REST API or image metadata properties.

       Possible values:

       * True: Force to use of configuration drive regardless the user's input in the REST API call.

       * False: Do not force use of configuration drive. Config drives can still be enabled via the REST API or image metadata properties.

       Related options:

       * Use the 'mkisofs_cmd' flag to set the path where you install the genisoimage program. If genisoimage is in same path as the nova-compute service, you do not need to set this flag.

       * To use configuration drive with Hyper-V, you must set the 'mkisofs_cmd' value to the full path to an mkisofs.exe installation. Additionally, you must set the qemu_img_cmd value in the hyperv configuration section to the full path to an qemu-img command installation.
   * - ``mkisofs_cmd`` = ``genisoimage``
     - (String) Name or path of the tool used for ISO image creation

       Use the mkisofs_cmd flag to set the path where you install the genisoimage program. If genisoimage is on the system path, you do not need to change the default value.

       To use configuration drive with Hyper-V, you must set the mkisofs_cmd value to the full path to an mkisofs.exe installation. Additionally, you must set the qemu_img_cmd value in the hyperv configuration section to the full path to an qemu-img command installation.

       Possible values:

       * Name of the ISO image creator program, in case it is in the same directory as the nova-compute service

       * Path to ISO image creator program

       Related options:

       * This option is meaningful when config drives are enabled.

       * To use configuration drive with Hyper-V, you must set the qemu_img_cmd value in the hyperv configuration section to the full path to an qemu-img command installation.
   * - **[hyperv]**
     -
   * - ``config_drive_cdrom`` = ``False``
     - (Boolean) Configuration drive cdrom

       OpenStack can be configured to write instance metadata to a configuration drive, which is then attached to the instance before it boots. The configuration drive can be attached as a disk drive (default) or as a CD drive.

       Possible values:

       * True: Attach the configuration drive image as a CD drive.

       * False: Attach the configuration drive image as a disk drive (Default).

       Related options:

       * This option is meaningful with force_config_drive option set to 'True' or when the REST API call to create an instance will have '--config-drive=True' flag.

       * config_drive_format option must be set to 'iso9660' in order to use CD drive as the configuration drive image.

       * To use configuration drive with Hyper-V, you must set the mkisofs_cmd value to the full path to an mkisofs.exe installation. Additionally, you must set the qemu_img_cmd value to the full path to an qemu-img command installation.

       * You can configure the Compute service to always create a configuration drive by setting the force_config_drive option to 'True'.
   * - ``config_drive_inject_password`` = ``False``
     - (Boolean) Configuration drive inject password

       Enables setting the admin password in the configuration drive image.

       Related options:

       * This option is meaningful when used with other options that enable configuration drive usage with Hyper-V, such as force_config_drive.

       * Currently, the only accepted config_drive_format is 'iso9660'.
